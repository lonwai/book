<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>忘记密码</title>
    <link href="style.css" rel="stylesheet" />
</head>
<body>
<form class="login-form" >
    <h2>找回密码</h2>
    <div class="form-group">
        <input required
                type="text" maxlength="10" placeholder="输入您的用户名" id="username">
    </div>
    <div class="form-group">
        <input  required
                 type="email" maxlength="25" placeholder="输入邮箱" id="email">
    </div>
    <div class="form-group">
        <input required
                 type="text" maxlength="10" placeholder="输入用户ID" id="idCard">
    </div>
    <div class="form-group">
        <button type="button" class="btn" onclick="onForgot()">submit</button>
        <a href="login.html" > 登录 </a>
    </div>
</form>
</body>
<script src="js/jquery-3.5.1.min.js"></script>
<script>
    function onForgot(){
        $.ajax({
            url:"forgot",
            type:"post",
            dataType:"JSON",
            data:{
                username:$("#username").val(),
                email:$("#email").val(),
                idCard:$("#idCard").val()
            },
            success:function (resp){
                if (resp.flag){
                    location.href ="login.html";
                    alert("验证成功,密码重置为:"+resp.pwd);
                }else {
                    alert("验证失败");
                }
            },
            error:function(resp){
                console.log(resp);
            }

        })
    }
</script>
</html>